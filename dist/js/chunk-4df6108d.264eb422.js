(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4df6108d"],{"0e02":function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-end"},[n("b-button",{staticClass:"mx-1",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.removeItem(t.storeName,t.itemId)}}},[t._v("Удалить")]),n("b-button",{staticClass:"mx-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.editItem(t.storeName,t.itemId,t.fieldsForEdit)}}},[t._v("Редактировать")])],1)},s=[],a=(n("a9e3"),n("5c15")),r={name:"ActionButtons",props:{storeName:{type:String,default:""},itemId:{type:[Number,String],default:""},fieldsForEdit:{type:[Array],default:function(){return[]}}},mixins:[a["a"]]},i=r,l=n("2877"),u=Object(l["a"])(i,c,s,!1,null,null,null);e["a"]=u.exports},"1dc9":function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.compareItems.length?t.getFilteredItems.length?[n("h2",{staticClass:"mb-3"},[t._v(t._s(t.header))]),n("b-table",{attrs:{fields:t.fields,items:t.getFilteredItems}})]:[n("h6",{staticClass:"text-center"},[t._v("Нет данных по выбранному записи...")])]:[n("h6",{staticClass:"text-center"},[t._v("Выберите запись...")])]],2)},s=[],a=(n("4de4"),n("d3b7"),n("caad"),n("2532"),{name:"Entries",props:{header:{type:String,default:"Таблица данных"},items:{type:Array,default:function(){return[]}},fields:{type:Array,default:function(){return[]}},compareItems:{type:Array,default:function(){return[]}},compareFields:{type:Array,default:function(){return[]}}},computed:{getFilteredItems:function(){var t=this;return this.items.filter((function(e){return t.compareFields.some((function(n){return t.compareItems.includes(e[n])}))}))}}}),r=a,i=n("2877"),l=Object(i["a"])(r,c,s,!1,null,null,null);e["a"]=l.exports},c0fb:function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.getFilteredAcctPos.length?[n("h2",{staticClass:"mb-3"},[t._v("Счета с остатками на дату")]),n("div",{staticClass:"d-flex"},[n("b-form-select",{attrs:{options:t.getOpDateOptions,size:"sm"},model:{value:t.selectedOpDate,callback:function(e){t.selectedOpDate=e},expression:"selectedOpDate"}}),n("b-button",{staticClass:"ml-auto",attrs:{variant:"primary"},on:{click:function(e){return t.addItem("acctPos")}}},[t._v("Добавить запись")])],1),n("b-table",{staticClass:"mb-5 mt-3",attrs:{fields:t.fields,items:t.getFilteredAcctPos,"select-mode":"single",selectable:""},on:{"row-selected":function(e){return t.onRowSelected(e,["AcctNum"])}},scopedSlots:t._u([{key:"table-colgroup",fn:function(e){return t._l(e.fields,(function(t){return n("col",{key:t.key,style:{width:"action"===t.key?"230px":""}})}))}},{key:"cell(action)",fn:function(t){return[n("action-buttons",{attrs:{"store-name":"acctPos","item-id":t.item.id,"fields-for-edit":["AcctNum","Balance"]}})]}}],null,!1,923070043)}),n("entries",{attrs:{header:"Проводки по счету","compare-items":t.selectedEntry,"compare-fields":["AcctNumCr","AcctNumDb"],fields:t.entryFields,items:t.getOpEntry}})]:[n("h2",{staticClass:"mb-3"},[t._v("Нет данных")])]],2)},s=[],a=n("1da1"),r=n("5530"),i=(n("96cf"),n("d3b7"),n("4de4"),n("fb6a"),n("1dc9")),l=n("5c15"),u=n("2f62"),o=n("0e02"),d={name:"Bills",components:{Entries:i["a"],ActionButtons:o["a"]},mixins:[l["a"]],data:function(){return{fields:[{key:"AcctNum",label:"Номер счета"},{key:"Balance",label:"Остаток"},{key:"action",label:"Действие"}],entryFields:[{key:"OpDate",label:"Дата операционного дня"},{key:"AcctNumDb",label:"Счет дебета"},{key:"AcctNumCr",label:"Счет кредита"},{key:"Amount",label:"Сумма"}],selectedOpDate:null}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])(["getOpEntry","getAcctPos"])),{},{getOpDateOptions:function(){return this.getAcctPos.reduce((function(t,e){return t.some((function(t){return t.text==e.OpDate}))||t.push({value:e.OpDate,text:e.OpDate}),t}),[])},getFilteredAcctPos:function(){var t=this;return this.getAcctPos.filter((function(e){return e.OpDate===t.selectedOpDate}))}}),watch:{getOpEntry:function(){this.setDefaultOpDateSelected()},getAcctPos:function(){this.setDefaultOpDateSelected()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadFile("acctPos");case 2:return e.next=4,t.loadFile("opEntry");case 4:t.setDefaultOpDateSelected();case 5:case"end":return e.stop()}}),e)})))()},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])(["loadFile"])),{},{setDefaultOpDateSelected:function(){this.getAcctPos.length&&(this.selectedOpDate=this.getAcctPos.slice(-1)[0].OpDate)}})},f=d,m=n("2877"),p=Object(m["a"])(f,c,s,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-4df6108d.264eb422.js.map