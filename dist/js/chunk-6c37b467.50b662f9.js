(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c37b467"],{"0e02":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-end"},[n("b-button",{staticClass:"mx-1",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.removeItem(t.storeName,t.itemId)}}},[t._v("Удалить")]),n("b-button",{staticClass:"mx-1",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.editItem(t.storeName,t.itemId,t.fieldsForEdit)}}},[t._v("Редактировать")])],1)},c=[],a=(n("a9e3"),n("5c15")),i={name:"ActionButtons",props:{storeName:{type:String,default:""},itemId:{type:[Number,String],default:""},fieldsForEdit:{type:[Array],default:function(){return[]}}},mixins:[a["a"]]},s=i,l=n("2877"),u=Object(l["a"])(s,r,c,!1,null,null,null);e["a"]=u.exports},"1dc9":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.compareItems.length?t.getFilteredItems.length?[n("h2",{staticClass:"mb-3"},[t._v(t._s(t.header))]),n("b-table",{attrs:{fields:t.fields,items:t.getFilteredItems}})]:[n("h6",{staticClass:"text-center"},[t._v("Нет данных по выбранному записи...")])]:[n("h6",{staticClass:"text-center"},[t._v("Выберите запись...")])]],2)},c=[],a=(n("4de4"),n("d3b7"),n("caad"),n("2532"),{name:"Entries",props:{header:{type:String,default:"Таблица данных"},items:{type:Array,default:function(){return[]}},fields:{type:Array,default:function(){return[]}},compareItems:{type:Array,default:function(){return[]}},compareFields:{type:Array,default:function(){return[]}}},computed:{getFilteredItems:function(){var t=this;return this.items.filter((function(e){return t.compareFields.some((function(n){return t.compareItems.includes(e[n])}))}))}}}),i=a,s=n("2877"),l=Object(s["a"])(i,r,c,!1,null,null,null);e["a"]=l.exports},c740:function(t,e,n){"use strict";var r=n("23e7"),c=n("b727").findIndex,a=n("44d2"),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),a(i)},ec42:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.getOpEntry.length?[n("h2",{staticClass:"mb-3"},[t._v("Проводки")]),n("div",{staticClass:"d-flex"},[n("b-button",{staticClass:"ml-auto",attrs:{variant:"primary"},on:{click:function(e){return t.addItem("opEntry")}}},[t._v("Добавить запись")])],1),n("b-table",{staticClass:"mb-5 mt-3",attrs:{fields:t.fields,items:t.getOpEntry,"select-mode":"single",selectable:""},on:{"row-selected":function(e){return t.onRowSelected(e,["AcctNumCr","AcctNumDb"])}},scopedSlots:t._u([{key:"table-colgroup",fn:function(e){return t._l(e.fields,(function(t){return n("col",{key:t.key,style:{width:"action"===t.key?"230px":""}})}))}},{key:"cell(action)",fn:function(t){return[n("action-buttons",{attrs:{"store-name":"opEntry","item-id":t.item.id,"fields-for-edit":["OpDate","AcctNumDb","AcctNumCr","Amount"]}})]}}],null,!1,1288630940)}),n("entries",{attrs:{header:"Счета проводок","compare-items":t.selectedEntry,"compare-fields":["AcctNum"],fields:t.entryFields,items:t.getFilteredEntryItems}})]:[n("h2",{staticClass:"mb-3"},[t._v("Нет данных")])]],2)},c=[],a=n("1da1"),i=n("5530"),s=(n("96cf"),n("d3b7"),n("c740"),n("1dc9")),l=n("0e02"),u=n("5c15"),o=n("2f62"),d={name:"Operations",components:{Entries:s["a"],ActionButtons:l["a"]},mixins:[u["a"]],data:function(){return{fields:[{key:"OpDate",label:"Дата"},{key:"AcctNumDb",label:"Счет дебета"},{key:"AcctNumCr",label:"Счет кредита"},{key:"Amount",label:"Сумма"},{key:"action",label:"Действие"}],entryFields:[{key:"AcctNum",label:"Номер счета"},{key:"Balance",label:"Остаток"}]}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["getOpEntry","getAcctPos"])),{},{getFilteredEntryItems:function(){return this.getAcctPos.reduce((function(t,e){var n=t.findIndex((function(t){return t.AcctNum===e.AcctNum}));return-1!=n?t[n].Balance+=e.Balance:t.push(e),t}),[])}}),created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadFile("opEntry");case 2:return e.next=4,t.loadFile("acctPos");case 4:case"end":return e.stop()}}),e)})))()},methods:Object(i["a"])({},Object(o["b"])(["loadFile"]))},m=d,f=n("2877"),p=Object(f["a"])(m,r,c,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-6c37b467.50b662f9.js.map